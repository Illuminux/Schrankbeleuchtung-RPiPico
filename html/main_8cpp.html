<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Schrankbeleuchtung Firmware: /home/runner/work/Schrankbeleuchtung-RPiPico/Schrankbeleuchtung-RPiPico/main.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Schrankbeleuchtung Firmware
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">/home/runner/work/Schrankbeleuchtung-RPiPico/Schrankbeleuchtung-RPiPico/main.cpp File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Firmware-Einstiegspunkt für die automatisierte Schrankbeleuchtung.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="cabinetLight_8h_source.html">cabinetLight.h</a>&quot;</code><br />
<code>#include &quot;hardware/irq.h&quot;</code><br />
<code>#include &lt;cstdio&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for main.cpp:</div>
<div class="dyncontent">
<div class="center"><img src="main_8cpp__incl.png" border="0" usemap="#a_2home_2runner_2work_2Schrankbeleuchtung-RPiPico_2Schrankbeleuchtung-RPiPico_2main_8cpp" alt=""/></div>
<map name="a_2home_2runner_2work_2Schrankbeleuchtung-RPiPico_2Schrankbeleuchtung-RPiPico_2main_8cpp" id="a_2home_2runner_2work_2Schrankbeleuchtung-RPiPico_2Schrankbeleuchtung-RPiPico_2main_8cpp">
<area shape="rect" title="Firmware&#45;Einstiegspunkt für die automatisierte Schrankbeleuchtung." alt="" coords="443,5,771,45"/>
<area shape="rect" href="cabinetLight_8h.html" title="Zentrale Klasse zur Steuerung der Schrankbeleuchtung (Header)." alt="" coords="409,93,524,119"/>
<area shape="poly" title=" " alt="" coords="574,48,501,89,498,84,572,43"/>
<area shape="rect" title=" " alt="" coords="549,93,665,119"/>
<area shape="poly" title=" " alt="" coords="609,46,609,79,604,79,604,46"/>
<area shape="rect" title=" " alt="" coords="689,93,751,119"/>
<area shape="poly" title=" " alt="" coords="636,43,693,83,690,87,633,48"/>
<area shape="rect" title=" " alt="" coords="5,167,107,192"/>
<area shape="poly" title=" " alt="" coords="409,120,121,169,120,164,408,114"/>
<area shape="rect" title=" " alt="" coords="131,167,226,192"/>
<area shape="poly" title=" " alt="" coords="421,121,239,166,238,161,420,116"/>
<area shape="rect" title=" " alt="" coords="250,167,377,192"/>
<area shape="poly" title=" " alt="" coords="443,121,352,163,350,158,441,116"/>
<area shape="rect" title=" " alt="" coords="401,167,532,192"/>
<area shape="poly" title=" " alt="" coords="469,119,469,153,464,153,464,119"/>
<area shape="rect" title=" " alt="" coords="556,167,612,192"/>
<area shape="poly" title=" " alt="" coords="487,116,554,157,552,162,484,121"/>
<area shape="rect" title=" " alt="" coords="636,167,703,192"/>
<area shape="poly" title=" " alt="" coords="500,116,625,160,623,165,498,121"/>
<area shape="rect" title=" " alt="" coords="727,167,793,192"/>
<area shape="poly" title=" " alt="" coords="515,116,714,164,712,169,514,121"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ae66f6b31b5ad750f1fe042a706a4e3d4" id="r_ae66f6b31b5ad750f1fe042a706a4e3d4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4">main</a> ()</td></tr>
<tr class="memdesc:ae66f6b31b5ad750f1fe042a706a4e3d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Hauptfunktion: Initialisiert Hardware und steuert die Schrankbeleuchtung.  <br /></td></tr>
<tr class="separator:ae66f6b31b5ad750f1fe042a706a4e3d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Firmware-Einstiegspunkt für die automatisierte Schrankbeleuchtung. </p>
<p>Dieses Programm steuert bis zu vier LED-Gruppen in einem Schrank automatisch über Reedkontakte (Magnetsensoren) und MOSFETs mit einem Raspberry Pi Pico W. Die Firmware übernimmt die Initialisierung der Hardware, die Konfiguration der Sensoren und LEDs sowie die Verarbeitung von Sensorereignissen, um die LEDs abhängig vom Türzustand sanft ein- und auszublenden (PWM-Dimmung).</p>
<p>Features:</p><ul>
<li>Bis zu 4 separat schaltbare LED-Gruppen (z. B. für mehrere Türen/Fächer)</li>
<li>Automatische Steuerung über Reedkontakte (Magnetsensoren)</li>
<li>PWM-Dimmung für sanftes Ein-/Ausschalten der LEDs</li>
<li>Geringe Standby-Leistung durch effiziente MOSFETs</li>
<li>Heartbeat-LED zur Laufzeitüberwachung</li>
<li>Erweiterbare Hardware-Anschlüsse</li>
</ul>
<p>Hardware-Anforderungen:</p><ul>
<li>Raspberry Pi Pico W</li>
<li>12V DC Versorgung (intern auf 5V/3.3V geregelt)</li>
<li>MOSFETs für LED-Schaltung</li>
<li>Reedkontakte an den Türen</li>
</ul>
<dl class="section author"><dt>Author</dt><dd>Knut Welzel <a href="#" onclick="location.href='mai'+'lto:'+'knu'+'t.'+'wel'+'ze'+'l@g'+'ma'+'il.'+'co'+'m'; return false;">knut.<span class="obfuscator">.nosp@m.</span>welz<span class="obfuscator">.nosp@m.</span>el@gm<span class="obfuscator">.nosp@m.</span>ail.<span class="obfuscator">.nosp@m.</span>com</a> </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2025-06-28 </dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>MIT </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="ae66f6b31b5ad750f1fe042a706a4e3d4" name="ae66f6b31b5ad750f1fe042a706a4e3d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae66f6b31b5ad750f1fe042a706a4e3d4">&#9670;&#160;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Hauptfunktion: Initialisiert Hardware und steuert die Schrankbeleuchtung. </p>
<ul>
<li>Initialisiert USB-CDC für Debug-Ausgaben</li>
<li>Führt einen Boot-Blink auf der Onboard-LED aus</li>
<li>Aktiviert GPIO-Interrupts für die Sensoren</li>
<li>Erstellt und konfiguriert die CabinetLight-Instanz</li>
<li>Setzt die Sensor-Polarity (active-low)</li>
<li>Führt einen Startup-Test der LEDs aus</li>
<li>Startet die Hauptschleife mit periodischer Event-Verarbeitung und Heartbeat-LED</li>
</ul>
<dl class="section return"><dt>Returns</dt><dd>int Rückgabewert (0 bei Erfolg) </dd></dl>
<p>&lt; Initialisiere USB-CDC für serielle Debug-Ausgaben</p>
<p>&lt; Warte, damit der Host Zeit für USB-Enumeration hat</p>
<p>&lt; Globale Instanz für die Steuerung</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
